
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Admin Session 13</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <h2>🎛️ Panel Admin - Canciones</h2>
    <table border="1" style="width:100%">
        <thead><tr><th>Mesa</th><th>Estado</th><th>Nombre</th><th>Canción</th><th>Artista</th><th>Saludo</th><th>Acción</th></tr></thead>
        <tbody id="tablaCanciones"></tbody>
    </table>
    <script>
        const firebaseConfig = {
            databaseURL: "https://karaokedatabase-c6a7d-default-rtdb.firebaseio.com"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const tabla = document.getElementById("tablaCanciones");

        db.ref("songs").on("value", (snapshot) => {
            tabla.innerHTML = "";
            snapshot.forEach(child => {
                const data = child.val();
                const row = tabla.insertRow();
                row.innerHTML = `
                    <td>${data.mesa}</td>
                    <td>${data.estado}</td>
                    <td>${data.nombre}</td>
                    <td>${data.cancion}</td>
                    <td>${data.artista}</td>
                    <td>${data.saludo}</td>
                    <td><button onclick="eliminar('${child.key}')">Eliminar</button></td>
                `;
            });
        });

        function eliminar(key) {
            db.ref("songs/" + key).remove();
        }
    </script>
</body>
</html>
